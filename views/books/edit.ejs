<!DOCTYPE html>
<html lang="en">
    <%- include ('../partials/header.ejs') %> 
    
    <body class="d-flex flex-column min-vh-100">
        
        <%- include ('../partials/nav.ejs') %> 
        
        <div class="container col-lg-6 align-items-center">
            <main role="main" class="pb-3">
                <div class="align-items-center">
                    <form action=<%=`/books/edit/${book._id}`%> method="POST"  encType="multipart/form-data">
                        <h2 class="text-center">Edit Book</h2>
                        <label for="title" class="form-group">Title</label>
                        <input type="text" name="title" class="form-control" required value="<%= book.title %>" />
                        <div class="title error form-text text-danger"></div>
            
                        <label for="author" class="form-group">Author</label>
                        <input type="text" name="author" class="form-control" required value="<%= book.author %>"/>
                        <div class="author error form-text text-danger"></div>

                        <label for="isbn" class="form-group">ISBN</label>
                        <input type="text" name="isbn" class="form-control" required value="<%= book.isbn %>"/>
                        <div class="isbn error form-text text-danger"></div>
            
                        <label for="cover_file_name" class="form-group">Book Cover</label>
                        <input type="file" name="cover_file_name" class="form-control" />
                        <div class="cover_file_name error form-text text-danger"></div>
                        <button class="btn btn-primary">Submit</button>

                        <p>Current book cover</p>
                        <% let imagePath = '/images/no_image_found.jpg'; %>
                        <% if(book.cover_file_name && book.cover_file_name != '') {
                            imagePath = '/images/books/' + book.cover_file_name;
                        } %>
                        <img class="img-fluid" src="<%= imagePath %>" alt="<%= book.title %>"/>

                    </form>
                </div>
            </main>
        </div>

        <%- include ('../partials/footer.ejs') %> 
        
    </body>
</html>